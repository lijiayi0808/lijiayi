clc
clear

P_trade=sdpvar(1,24);
P1=sdpvar(1,24);
P2=sdpvar(1,24);
P3=sdpvar(1,24);

P_e_12=sdpvar(1,24);
P_e_13=sdpvar(1,24);
P_e_21=sdpvar(1,24);
P_e_23=sdpvar(1,24);
P_e_31=sdpvar(1,24);
P_e_32=sdpvar(1,24);

P_e13=[-134.196666666667	-134.196666666667	-134.196666666667	-134.196666666667	-134.196666666667	-132.437500000001	-95.1986416666669	-95.1986416666669	118.741244879311	83.3748346074519	158.517590000000	106.031563333334	142.115337500000	133.984509259604	81.2063970473863	5.19941038071953	-121.569850939437	-57.8406997835378	-28.6293763225035	-61.1133330660959	-63.4034565228859	-97.2737425718948	-157.104801080036	-157.708851128364];
P_e21=[9.42888165192773	9.42888165192773	9.42888165192773	9.42888165192773	9.42888165192773	9.17888165192773	3.18986519160974	-8.32401649521588	-268.354756495216	-88.5073346074511	-163.653540564749	-111.163941263021	-145.559334865265	-155.674530074373	-148.975239958804	-72.9682532884996	0	0	0	0	0	0	0	0];
P_e23=[-115.258618348072	-115.258618348072	-115.258618348073	-115.258618348072	-115.258618348072	-115.258618348072	-115.258618348073	-132.437500000000	-112.113511615905	0	0	0	0	0	-30.7688592385611	-30.7688592385612	-121.569850939437	-57.8406997835377	-28.6293763225035	-61.1133330660959	-63.4034565228860	-97.2737425718948	-157.104801080036	-152.576351128364];

%% Ô¼ÊøÌõ¼þ

E1a=sdpvar(0,96);% E1s=[394.116800000000	385.358648888889	367.842346666667	385.358648888889	376.600497777778	359.084195555556	306.535288888889	262.744533333333	245.228231111111	280.260835555556	297.777137777778	350.326044444444	394.116800000000	350.326044444444	315.293440000000	297.777137777778	280.260835555556	253.986382222222	218.953777777778	245.228231111111	227.711928888889	70.0652088888890	105.097813333333	157.646720000000];
 E2a=[-390.363306666667	-397.870293333334	-405.377280000000	-390.363306666667	-382.856320000000	-382.856320000000	-375.349333333334	-180.167680000000	-165.153706666667	-150.139733333333	-262.744533333334	-255.237546666667	-262.744533333334	-270.251520000001	-262.744533333334	-285.265493333334	-292.772480000001	-255.237546666667	-337.814400000001	-360.335360000001	-367.842346666667	-337.814400000001	-412.884266666667	-390.363306666667];
% E2s=[512.351840000000	522.204760000000	532.057680000000	512.351840000000	502.498920000000	502.498920000000	492.646000000000	236.470080000000	216.764240000000	197.058400000000	344.852200000000	334.999280000000	344.852200000000	354.705120000000	344.852200000000	374.410960000000	384.263880000000	334.999280000000	443.381400000000	472.940160000000	482.793080000000	443.381400000000	541.910600000000	512.351840000000];
 E3a=[-211.134000000000	-206.442133333333	-197.058400000000	-206.442133333333	-201.750266666667	-192.366533333334	-164.215333333333	-93.8373333333334	-131.372266666667	-150.139733333334	-159.523466666667	-178.290933333333	-164.215333333334	-140.756000000000	-168.907200000000	-159.523466666667	-150.139733333334	-136.064133333333	-117.296666666667	-131.372266666667	-168.907200000000	-131.372266666667	-225.209600000000	-239.285200000000];
% E3s=[236.470080000000	231.215189333333	220.705408000000	231.215189333333	225.960298666667	215.450517333333	183.921173333333	105.097813333333	147.136938666667	168.156501333333	178.666282666667	252.234752000000	236.470080000000	210.195626666667	189.176064000000	178.666282666667	168.156501333333	152.391829333333	131.372266666667	147.136938666667	189.176064000000	147.136938666667	252.234752000000	267.999424000000];
E1=abs(E1a);E2=abs(E2a);E3=abs(E3a);

for t=1:24
    P_trade(t)=1/3*(E1(t)+E2(t)+E3(t));
    P1(t)=E1(t)-P_trade(t);%3
    P2(t)=E2(t)-P_trade(t);%-1
    P3(t)=E3(t)-P_trade(t);%-2
end

for t=1:24
    P_e_21(t)=P_e21(t);
    P_e_12(t)=-P_e_21(t);
    P_e_23(t)=P_e23(t)+0.1*P2(t)-0.1*P3(t);
    P_e_32(t)=-P_e_23(t);
    P_e_13(t)=P_e13(t)+0.1*P1(t)-0.1*P3(t);
    P_e_31(t)=-P_e_13(t);
end


