function [pri_e_21,pri_e_23,Obj_MG2]=Fun_MG2(pri_e_12,pri_e_32,lambda_e_21,lambda_e_23)
%微网2(MG2)的分布式优化迭代模型
%% 决策变量初始化
pri_e_21=sdpvar(1,24); %微网2向微网1交互的电价
pri_e_23=sdpvar(1,24); %微网2向微网3交互的电价
%% 导入电/热负荷和电网购电电价
pri_e=[0.4711*ones(1,8),0.8759*ones(1,6),1.0947*ones(1,3),0.8759*ones(1,2),1.0947*ones(1,3),0.8759*ones(1,2)];

P_e_21=[16.9358683185944	16.9358683185944	16.9358683185944	16.9358683185944	16.9358683185943	16.6858683185943	10.6968518582764	-8.32401649521588	-268.354756495216	-90.0087319407845	-155.395855231416	-106.659749263021	-138.052348198598	-145.915447407706	-142.218951958804	-62.4584719551662	8.25768533333330	3.75349333333340	12.0111786666668	11.2604800000001	9.75908266666670	7.50698666666670	9.75908266666670	5.25489066666670];
P_e_23=[-97.3356876814053	-96.1158023480719	-94.4267303480730	-96.8665010147386	-97.1480130147387	-96.2096396814054	-94.1452183480729	-123.804465333333	-108.735367615905	-9.94759830064140e-14	10.3221066666667	7.69466133333340	9.85292000000000	12.9495520000001	-21.3851259052277	-18.1946565718945	-107.306576272770	-45.9233584502043	-6.57760298917010	-38.2170237327625	-43.5099418562193	-76.6295292385614	-138.337334413369	-137.468540461697];

%% 约束条件
C=[];
for t=1:24
    C=[C,
       pri_e(t)>=pri_e_21(t)>=0.2,
       pri_e(t)>=pri_e_23(t)>=0.2,
      ];
end
C=[C,-16065<=-12016+sum(pri_e_21.*P_e_21+pri_e_23.*P_e_23),];
%% 目标函数
C_trade=sum(pri_e_21.*P_e_21+pri_e_23.*P_e_23);
Obj=-1.7867*log(16065-12016+C_trade)...
    +0.5*1e1*(norm(pri_e_21-pri_e_12)^2)+sum(lambda_e_21.*(pri_e_21-pri_e_12))...
    +0.5*1e1*(norm(pri_e_23-pri_e_32)^2)+sum(lambda_e_23.*(pri_e_23-pri_e_32));    
%% 求解器配置与求解
ops=sdpsettings('solver','mosek','verbose',0,'usex0',0);
result=solvesdp(C,Obj,ops);
%% 数据输出
pri_e_21=double(pri_e_21);
pri_e_23=double(pri_e_23);
Obj_MG2=double(C_trade);
end